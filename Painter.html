<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Painter &mdash; Dokumentace pro PyQt4 0.2.1</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="Dokumentace pro PyQt4 0.2.1" href="index.html" />
    <link rel="next" title="Slider" href="Slider.html" />
    <link rel="prev" title="LineEdit" href="edit.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigace</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Obecný rejstřík"
             accesskey="I">rejstřík</a></li>
        <li class="right" >
          <a href="Slider.html" title="Slider"
             accesskey="N">další</a> |</li>
        <li class="right" >
          <a href="edit.html" title="LineEdit"
             accesskey="P">předchozí</a> |</li>
        <li><a href="index.html">Dokumentace pro PyQt4 0.2.1</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="painter">
<h1>Painter<a class="headerlink" href="#painter" title="Trvalý odkaz na tento nadpis">¶</a></h1>
<p>Není tak úplně widget, ale je to nástroj umožnující kreslení geometrických obrazců vyplňování oblastí barvou, nebo také psaní textu kdekoliv na hlavním okně. Jako první je důležité si říci jak funguje kreslení v PyQt.</p>
<p>Kreslení probíhá v PyQt v paintEvent metodě, která se automaticky spouští, při změně rozměrů okna, posunutí okna a také při vytváření okna. Díky těmto vlastnostem můžeme vytvářet vlastní widgety,  které  se nám budou automaticky přizpůsobovat velikosti okna.</p>
<p>Pokud chceme kreslit na naší aplikaci je důležité, abychom si reimplementovali metodu paintEvent ve třídě, která definuje naše GUI. Nyní si ukážeme jednoduchý příklad kreslení.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Drawing</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>
   <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="nb">super</span><span class="p">(</span><span class="n">Drawing</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
   <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">350</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&quot;Lines&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
   <span class="k">def</span> <span class="nf">paintEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">()</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</pre></div>
</div>
<p>V první části kódu si vytvoříme naše okno, nastavíme mu titulek. Nejdůležitější částí tohoto kódu je reimpletovaná metoda paintEvent, která příjmá jako parametr typ eventu, který ji vyvolal, ale to pro nás není důležité. V metodě paintEvent si vytvoříme painter, kterým budeme vytvářet obrazce. Je důležité si zapamatovat, že painterem mužeme pracovat poutze v metodě paintEvent a také to, že kreslení probíhá po zavolání metody painter.begin(widget-na-který-kreslime). Důležité je také použít metodu painter.end(), protože po zavolání této metody se nám vykreslí to co jsme nakreslili.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
       <span class="n">pen</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPen</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">black</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SolidLine</span><span class="p">)</span>
       <span class="n">pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
       <span class="n">pen</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SolidLine</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">340</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Jako první si vytvoříme QPen což, je nástroj, který nastavuje jak budou vypadat čáry, které budeme kreslit, jako parametry příjmá barvu. Základní pojmenované barvy můžeme získat z modulu QtCore, která obsahuje třídu Qt, kde jsou barvy uložene pod názvem barvy. Tyto barvy můžeme předat poté našemu peru. Dalším parametrem je tloušťka čáry a posledním parametrem je styl čáry. Styly čar jsou uloženy ve stejné třídě jako barvy. Tyto parametry nemusíme nastavovat při inicializaci QPen, ale můžeme je nastavi pomocí metod setColor(QColor) a setStyle(QStyle).</p>
<p>Proto aby painter použil typ čáry, který chceme nakreslit, musíme nastavit námi vytvořené QPen k použití. To provedeme metodou painter.setPen(QPen). Pro nakreslení čáry se volá metoda painter.drawLine(x_začatku,y_začatku, x_konce,y_konce). V další časti se vytvoříme čtyři další čáry stejným způsobem jako tuto.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pen</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DashLine</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">340</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>

<span class="n">pen</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DashDotDotLine</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">340</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>

<span class="n">pen</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DashDotLine</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">340</span><span class="p">,</span><span class="mi">70</span><span class="p">)</span>

<span class="n">pen</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">DotLine</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">340</span><span class="p">,</span><span class="mi">90</span><span class="p">)</span>

<span class="n">pen</span><span class="o">.</span><span class="n">setStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">NoPen</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawRect</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>

<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,))</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawRect</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>

<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,))</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawRect</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">painter</span><span class="o">.</span><span class="n">drawEllipse</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
<p>Pro vytvoření obrazců jako elipsa nebo obdelník potřebjeme metodu painter.setBrush(QColor). Ta nám vyplní obrazec barvou a ten se díky tomu stane viditelným. Protože nechceme aby naše vytvořené obrazce neměli okraj. Vytvoříme QPen s parametrem NoPen, to nám zajistí, že QPen nebude viditelné. Poté pomocí metody painter.drawRect(x_levý,y_levý,x_pravý,y_pravý) vykreslíme obdelník, takto vytvoříme dva další obdelníky s různou barvou. Elipsa se vytváří stejným způsobem jako obdelník, ale metodou painter.drawElipse(x_stred,y_stred,výška,šířka).</p>
<img alt="_images/14.png" src="_images/14.png" />
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h4>Přechozí téma</h4>
  <p class="topless"><a href="edit.html"
                        title="předchozí kapitola">LineEdit</a></p>
  <h4>Další téma</h4>
  <p class="topless"><a href="Slider.html"
                        title="další kapitola">Slider</a></p>
  <h3>Tato stránka</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/Painter.txt"
           rel="nofollow">Ukázat zdroj</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Rychlé vyhledávání</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="OK" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Zadejte hledané termíny nebo jméno modulu, třídy či funkce.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigace</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Obecný rejstřík"
             >rejstřík</a></li>
        <li class="right" >
          <a href="Slider.html" title="Slider"
             >další</a> |</li>
        <li class="right" >
          <a href="edit.html" title="LineEdit"
             >předchozí</a> |</li>
        <li><a href="index.html">Dokumentace pro PyQt4 0.2.1</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Adam Obrtel.
      Vytvořeno pomocí <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>