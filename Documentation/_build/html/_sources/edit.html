

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LineEdit &mdash; PyQt4 2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyQt4 2.0 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">PyQt4 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lineedit">
<h1>LineEdit<a class="headerlink" href="#lineedit" title="Permalink to this headline">¶</a></h1>
<p>V následující kapitole si ukážeme jak pracovat s LineEdit. LineEdit je velmi důležitým widgetem, neboť umožňuje uživateli vkládat textové řetězce do naší aplikace, jako takové se proto hodí pro nejrůznější účely, jako zadávání hesla a podobně.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">class</span> <span class="nc">Ui</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">,):</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">Ui</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="o">=</span><span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QFont</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">setItalic</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">form_name</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="s">&quot;Jmeno&quot;</span><span class="p">,</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">form_name</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">form_name</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p>V první části kódu si jako obvykle implementujeme nezbytné moduly. V metodě setup si vytvoříme QFont, což je objekt písma z PyQt knihovny. Tento objekt má mnoho druhů nastavení a používáme ho pro nastavení písma v ostatních widgetech. My budeme chtít text psaný kurzívou, a proto nám stačí písmo nastavit metodou setItalic(bool). Poté si vytvoříme lineEdit pomocí konstruktoru QtGui.QLineEdit(text,rodič) a takto vytvořenému lineEditu nastavíme písmo pomocí metody setFont(QFont) a nastavíme pevnou velikost lineEditu.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">form_pass</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="s">&quot;Heslo&quot;</span><span class="p">,</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">form_pass</span><span class="o">.</span><span class="n">setEchoMode</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">form_pass</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">btn_prihlas</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s">&quot;potvrdit&quot;</span><span class="p">,</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">btn_prihlas</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_prihlas</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">())</span>
<span class="bp">self</span><span class="o">.</span><span class="n">btn_prihlas</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prihlas</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">btn</span><span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s">&quot;nemate registraci&quot;</span><span class="p">,</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">btn</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">())</span>
<span class="bp">self</span><span class="o">.</span><span class="n">btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">registrace</span><span class="p">)</span>
</pre></div>
</div>
<p>Poté si vytvoříme další lineEdit, do kterého bude uživatel zadávat heslo, protože heslo musí zůstat tajné musíme nastavit změnu znaků při zadávání hesla. Toho docílíme metodou setEchoMode(EchoMode). Typ překrití můžeme nastavit číselnou hodnotou. Číselná hodnota 2 nám zobrazí klasické heslo. Ostatní druhy nastavení najdete na konci kapitoly. Poté vytvoříme tlačítko pro přihlášení, které bude pří kliknutí spouštět slot self.prihlas a další tlačítko pro zaregistrování uživatele. Toto tlačítko bude po kliknutí spouštět slot s názvem self.registrace.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">lbl</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">setMinimumSize</span><span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
<span class="n">grid</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
<span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form_name</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form_pass</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_prihlas</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">grid</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>V poslední části metody setup si vytvoříme label, do kterého budeme vypisovat informace o úspěšnosti přihlášení. A všechny widgety umístíme do rozvržení. A zobrazíme celé okno.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">prihlas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">form_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">form_pass</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">==</span><span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">form_name</span><span class="o">.</span><span class="n">text</span><span class="p">()]:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&quot;Byli jste uspesne prihlaseni&quot;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">())</span>
  <span class="k">else</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&quot;Prihlaseni se nezdarilo heslo nebo jmeno se lisi&quot;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">sizeHint</span><span class="p">())</span>
</pre></div>
</div>
<p>V této metodě zjišťujeme, jestli text z lineEditu se jménem máme ve slovníku hesel a zároveň jestli odpovídá heslo heslu uloženém pro dané jméno. Jak si můžete, všimnou text z lineEditu získáváme jednoduchou metodou text, která nám vrátí text obsažený v lineEditu. Pokud je přihlášení úspěšné, informujeme uživatele o úspěchu. Jinak zobrazíme chybovou hlášku s nezdařeným přihlášením.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">registrace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="n">okenko</span><span class="o">=</span><span class="n">popup</span><span class="p">()</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">[</span><span class="n">okenko</span><span class="o">.</span><span class="n">line_name</span><span class="o">.</span><span class="n">text</span><span class="p">()]</span><span class="o">=</span> <span class="n">okenko</span><span class="o">.</span><span class="n">line_pass</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</pre></div>
</div>
<p>V této metodě si inicializujeme třídu s naším dialogem, ze kterého získáme heslo pro nového uživatele. Heslo a jméno získáme metodou text z lineEditů, které se nacházejí v dialogovém okně.</p>
<div class="highlight-python"><pre>class popup(QtGui.QDialog,):
   def __init__(self):
       super(popup,self).__init__()
       self.setup()
   def setup(self,):
       self.line_name = QtGui.QLineEdit("Jmeno",parent=self)
       self.line_name.resize(100,20
       self.line_pass = QtGui.QLineEdit("Heslo",parent=self)
       self.line_pass.resize(100,20)
       self.line_pass.setEchoMode(2)
       self.btn_potvrdit = QtGui.QPushButton("potvrdit",parent=self)
       self.btn_potvrdit.resize(self.btn_potvrdit.sizeHint())
       self.btn_potvrdit.clicked.connect(self.close)
       grid=QtGui.QGridLayout()
       grid.addWidget(self.line_name,0,0,1,0)
       grid.addWidget(self.line_pass,1,0,1,0)
       grid.addWidget(self.btn_potvrdit,2,0)
       self.setLayout(grid)
       self.exec_()</pre>
</div>
<p>Tato třída, která reprezentuje dialogové okno, dědí z QDialog a to proto, abychom mohli používat metody spojené s dialogem a proto, aby se vůbec námi vytvořené okno chovalo jako dialog. Tento dialog je velmi podobný oknu naší hlavní aplikace a proto obsahuje dva lineEdity. Jeden lineEdit má změněné znaky zadávání pomocí metody setEchomMode. Po kliknutí na tlačítko se náš dialog uzavře.</p>
<ul>
<li><p class="first"><strong>lineEdit.clear()</strong></p>
<blockquote>
<div><ul class="simple">
<li>Vymaže obsah lineEditu. Je možné použít místo lineEdit(““)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>lineEdit.setPlaceholderText(self,string)</strong></p>
<blockquote>
<div><ul class="simple">
<li>Nastaví šedý text, který je po kliknutí automaticky vymazán.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>lineEdit.setText(string)</strong></p>
<blockquote>
<div><ul class="simple">
<li>nastaví text do lineEditu</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>lineEdit.text()</strong></p>
<blockquote>
<div><ul class="simple">
<li>Vrátí text napsaný v lineEditu</li>
</ul>
</div></blockquote>
</li>
</ul>
<img alt="_sources\13.png" src="_sources\13.png" />
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/edit.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">PyQt4 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Adam Obrtel.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>